<Window x:Class="AwakeDesk.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:AwakeDesk"
        mc:Ignorable="d"
        Title="Awake Desk Settings" 
        Height="325"
        Width="225"
        ResizeMode="NoResize" 
        WindowStyle="SingleBorderWindow" 
        Icon="/Media/ico/Clock.ico"
        WindowStartupLocation="CenterScreen"
        ShowInTaskbar="False">
    <Window.Resources>
        <Style x:Key="CacthButtonVisibiliyStyle" TargetType="Button">
            <Style.Triggers>
                <DataTrigger Binding="{Binding CapturingMouse}" Value="False">
                    <DataTrigger.Setters>
                        <Setter Property="Visibility" Value="Visible"/>
                    </DataTrigger.Setters>
                </DataTrigger>
                <DataTrigger Binding="{Binding CapturingMouse}" Value="True">
                    <DataTrigger.Setters>
                        <Setter Property="Visibility" Value="Collapsed"/>
                    </DataTrigger.Setters>
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <Border CornerRadius="20">
        <StackPanel>
            <StackPanel Orientation="Horizontal" Margin="0" Name="ClockPanel">
                <TextBlock 
                        x:Name="SoftwareName" 
                        Text="Awake Desk" 
                        FontSize="15"
                        FontWeight="Bold"
                        Margin="10,5,3,5" 
                        Padding="0" 
                        VerticalAlignment="Top" />
                <TextBlock 
                        Text="v." 
                        FontSize="12"
                        Margin="5,5,0,5" 
                        Padding="0" 
                        VerticalAlignment="Bottom" />
                <TextBlock 
                        x:Name="SoftwareVersion" 
                        Text="1.0.0.123" 
                        FontSize="12"
                        Margin="0,5,3,5" 
                        Padding="0" 
                        VerticalAlignment="Bottom" />
            </StackPanel>
            <StackPanel Name="panelSettings" Height="232">
                <TabControl>
                    <!-- Time tab -->
                    <TabItem Header="Time">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="5,10,5,0" Height="150">
                                <StackPanel Width="92"
                                            Margin="0,0,10,0">
                                    <Button Click="AddRemoveTime_Click"
                                        Background="LightCoral" 
                                        Foreground="White"
                                        FontWeight="Bold"
                                        Height="25" Name="Minus1Hour" 
                                        Content="-1 Hour" 
                                        Margin="0,0,0,0"/>
                                    <Button Click="AddRemoveTime_Click"
                                        Background="LightCoral" 
                                        Foreground="White"
                                        FontWeight="Bold"
                                        Height="25" 
                                        Name="Minus5Minutes" 
                                        Content="-5 Minutes" 
                                        Margin="0,5,0,0"/>
                                    <Button Click="AddRemoveTime_Click" 
                                        Background="LightCoral" 
                                        Foreground="White"
                                        FontWeight="Bold"
                                        Height="25" 
                                        Name="Minus1Minute" 
                                        Content="-1 Minute" 
                                        Margin="0,5,0,0"/>
                                    <Button 
                                        Click="Preset_Click" 
                                        Background="LightBlue" 
                                        FontWeight="Bold"
                                        Name="Preset1" 
                                        Height="25" 
                                        Content="{Binding Preset1Text}" 
                                        Margin="0,5,0,0"/>
                                </StackPanel>
                                <StackPanel Margin="0" Width="92">
                                    <Button Click="AddRemoveTime_Click"
                                        Height="25"
                                        Background="LightGreen" 
                                        FontWeight="Bold"
                                        Name="Plus1Hour" 
                                        Content="+1 Hour" 
                                        Margin="0,0,0,0"/>
                                    <Button Click="AddRemoveTime_Click" 
                                        Height="25" 
                                        Background="LightGreen" 
                                        FontWeight="Bold"
                                        Name="Plus5Minutes" 
                                        Content="+5 Minutes" 
                                        Margin="0,5,0,0"/>
                                    <Button Click="AddRemoveTime_Click" 
                                        Height="25" 
                                        Background="LightGreen" 
                                        FontWeight="Bold"
                                        Name="Plus1Minute" 
                                        Content="+1 Minute" 
                                        Margin="0,5,0,0"/>
                                    <Button Click="Preset_Click" 
                                        Background="LightBlue" 
                                        FontWeight="Bold"
                                        Name="Preset2" 
                                        Height="25" 
                                        Content="{Binding Preset2Text}" 
                                        Margin="0,5,0,0"/>
                                </StackPanel>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="5,0,0,10">
                                <TextBlock Text="Stop time:" FontSize="15" Margin="0" VerticalAlignment="Center"/>
                                <TextBlock Text="{Binding ClosingTime}" FontSize="35" FontWeight="Bold" Margin="5,0,0,0"/>
                            </StackPanel>
                        </StackPanel>
                    </TabItem>
                    <!-- Settings Tab-->
                    <TabItem Header="Settings">
                        <StackPanel Height="210">
                            <Button Click="CaptureMouse_Click"
                                x:Name="CaptureMouseButton"
                                Content="Select mouse starting point"
                                Height="35"
                                FontSize="12"
                                FontWeight="Bold"
                                Background="LightBlue"
                                Visibility="Visible" />
                            <TextBlock Text="{Binding CaptureMouseText}"
                                   x:Name="CaptureMouseTextBlock"
                                   TextWrapping="Wrap"
                                   FontSize="13"
                                   TextAlignment="Center"
                                   Height="35"
                                   Visibility="Collapsed"/>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock 
                                    VerticalAlignment="Top" 
                                    Text="Alarm Delay Minutes:" />
                                <TextBox 
                                        x:Name="AlarmDelayMinutesSetting" 
                                        Width="20"
                                        VerticalAlignment="Top"
                                        Margin="3,0"
                                        LostFocus="Settings_LostFocus" />
                                <TextBlock 
                                        x:Name="AlarmDelayMinutesError" 
                                        VerticalAlignment="Top"
                                        Foreground="Red" 
                                        FontSize="9"
                                        Visibility="Collapsed" />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock 
                                    VerticalAlignment="Top" 
                                    Text="Preset 1:" />
                                <TextBox 
                                    x:Name="Preset1Setting" 
                                    Width="40"
                                    VerticalAlignment="Top"
                                    Margin="3,0"
                                    LostFocus="Settings_LostFocus" />
                                <TextBlock 
                                    x:Name="Preset1Error" 
                                    VerticalAlignment="Top"
                                    Foreground="Red" 
                                    FontSize="9"
                                    Visibility="Collapsed" />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock 
                                    VerticalAlignment="Top" 
                                    Text="Preset 2:" />
                                <TextBox 
                                    x:Name="Preset2Setting" 
                                    Width="40"
                                    VerticalAlignment="Top"
                                    Margin="3,0"
                                    LostFocus="Settings_LostFocus" />
                                <TextBlock 
                                    x:Name="Preset2Error" 
                                    VerticalAlignment="Top"
                                    Foreground="Red" 
                                    FontSize="9"
                                    Visibility="Collapsed" />
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,5">
                                <TextBlock 
                                    VerticalAlignment="Top" 
                                    Text="Alarm:" />
                                <ComboBox 
                                        x:Name="RingtoneComboBox" 
                                        Width="100" 
                                        VerticalAlignment="Top" 
                                        Margin="15,0,5,0" 
                                        SelectionChanged="RingtoneComboBox_SelectionChanged" />
                                <Button x:Name="PlayPauseButton" 
                                        Width="20" 
                                        Height="22" 
                                        Content="▶"
                                        FontSize="12"
                                        Foreground="Green"
                                        Click="PlayPauseButton_Click" />
                            </StackPanel>
                            <Button Click="SaveSettings_Click"
                                    FontWeight="Bold"
                                    Height="25" 
                                    Name="SaveSettings" 
                                    Content="Save Settings" 
                                    Margin="0"
                                    Background="LightGreen" 
                                    IsEnabled="{Binding AreSettingsValid}"/>
                        </StackPanel>
                    </TabItem>
                    <!-- Info Tab-->
                    <TabItem Header="Info">
                        <StackPanel Height="210">
                            <StackPanel Orientation="Horizontal" Margin="5">
                                <TextBlock FontSize="12" FontWeight="Bold" Text="Developed by:" Margin="0,0,5,0"/>
                                <TextBlock FontSize="12" Margin="0">Giovanni Guerra</TextBlock>
                            </StackPanel>
                            <StackPanel Margin="5,0,5,5">
                                <TextBlock FontSize="12" FontWeight="Bold" Text="License" Margin="0"/>
                                <TextBlock FontSize="11" TextWrapping="Wrap" Margin="0">
                                This software is distributed under the GNU General Public License v3.0.
                                </TextBlock>
                            </StackPanel>
                            <StackPanel Margin="5,0,5,5">
                                <TextBlock FontSize="12" FontWeight="Bold" Text="Useful Links" Margin="0,0,0,2"/>
                                <TextBlock FontSize="11" TextWrapping="Wrap" Margin="0,0,0,2">
                                <Hyperlink NavigateUri="https://github.com/giague/AwakeDesk" RequestNavigate="Hyperlink_RequestNavigate">GitHub repository</Hyperlink>
                                </TextBlock>
                            </StackPanel>
                            <StackPanel Margin="5,0,5,5">
                                <TextBlock FontSize="12" FontWeight="Bold" Text="Support" Margin="0"/>
                                <TextBlock FontSize="11" TextWrapping="Wrap" Margin="0">
                                    To report bugs or request assistance, open a issue:
                                    <Hyperlink NavigateUri="https://github.com/giague/AwakeDesk/issues" RequestNavigate="Hyperlink_RequestNavigate">GitHub issue</Hyperlink>
                                </TextBlock>
                            </StackPanel>
                        </StackPanel>
                    </TabItem>
                </TabControl>
            </StackPanel>
            <Button Click="CloseApplication_Click"
                Background="Red" 
                Foreground="White"
                FontWeight="Bold"
                Height="25" 
                Name="Close" 
                Content="CLOSE AWAKE DESK" 
                Margin="0"/>
        </StackPanel>
    </Border>
</Window>
